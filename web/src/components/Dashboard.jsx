import React,{useEffect,useState} from 'react'
import {api} from '../utils/api'
export default function Dashboard(){const[data,setData]=useState({bySupplier:{},byCategory:{},grand:0});const load=async()=>setData(await api('/api/summary'));useEffect(()=>{load()},[]);const fmt=n=>'Â£'+(Number(n||0)).toFixed(2);return(<div className='bg-white p-4 rounded-2xl shadow grid gap-4'><h2 className='text-xl font-semibold'>Dashboard</h2><div className='grid md:grid-cols-2 gap-4'><div><h3 className='font-medium mb-2'>By Supplier</h3><ul className='text-sm'>{Object.entries(data.bySupplier).map(([k,v])=><li key={k} className='flex justify-between'><span>{k}</span><strong>{fmt(v)}</strong></li>)}</ul></div><div><h3 className='font-medium mb-2'>By Category</h3><ul className='text-sm'>{Object.entries(data.byCategory).map(([k,v])=><li key={k} className='flex justify-between'><span>{k}</span><strong>{fmt(v)}</strong></li>)}</ul></div></div><div className='text-right text-lg'>Grand Total: <strong>{fmt(data.grand)}</strong></div></div>) }